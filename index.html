<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8' />
    <title>MapJournaling</title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v1.4.1/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v1.4.1/mapbox-gl.css' rel='stylesheet' />
    <style>
        body { 
            margin:0; 
            padding:0; 
        }
        #map { 
            position: absolute;
            width:55%; 
            height:800px; 
            width:1200px;
        }
        #coord {
            /* display: block; */
            position: absolute;
            /* margin: 0px; */
            width: 46.5%;
            /* padding: 10px; */
            /* border: none; */
            border-radius: 3px;
            font-size: 12px;
            text-align: center;
            color: #222;
            background: #fff;
            border-style: dotted;
        }
        #button {
            position: relative;
            top: 800px;
            background-color: rgb(155, 150, 150); /* Green */
            border: none;
            color: black;
            padding: 15px 32px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 24px;
            width: 46.5%;
        }
        #button:hover {
            background-color: rgb(43, 43, 43);
            color: white;
        }
        #feed {
            position: relative;
            top:800px;
            border: none;
            padding: 5px;
            font: 24px/36px sans-serif;
            width:46.5%;
            height: 400px;
            overflow: scroll;
        }
        ::-webkit-scrollbar {
            width: 12px;
            height: 12px;
        }
        ::-webkit-scrollbar-track {
            border: 1px solid yellowgreen;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb {
            background: yellowgreen;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #88ba1c;
        }
        

    </style>
</head>
<body>

<div id='map'></div>
<pre id='coord'></pre>
<button id='button'>Create New Text Post</button>
<div id='feed'<>Testing</div>
<script>
//This displays the map
mapboxgl.accessToken = '<your access token here>';
var map = new mapboxgl.Map({
    container: 'map', // container id
    style: 'http://ear7h.net:8008/maps/ne/style.json', // stylesheet location
    center: [-100, 40], // starting position [lng, lat]
    zoom: 3.5 // starting zoom
});    

//This allows user to move mouse to see lat/long
map.on('mousemove', function (e) {
    document.getElementById('coord').innerHTML =
        // e.point is the x, y coordinates of the mousemove event relative
        // to the top-left corner of the map
        JSON.stringify(e.point) + '<br />' +
        // e.lngLat is the longitude, latitude geographical position of the event
        JSON.stringify(e.lngLat.wrap());
});

//This allows user to click and store lat/long to DB
map.on('mousedown', function (e) {
    let x =
        JSON.stringify(e.point) + '<br />' +
        JSON.stringify(e.lngLat.wrap());
    console.log(x);

});
</script>

</body>
</html>